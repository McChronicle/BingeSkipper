(()=>{"use strict";chrome.runtime.onInstalled.addListener(async({reason:t,previousVersion:i})=>{if("install"===t){const t={autoClickContinueWatching:!0,autoClickNextEpisode:!0,skipIntro:!0,skipRecap:!0};await chrome.storage.sync.set(t)}else if("update"===t&&void 0!==i){const t=function(t){const i=t.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}(i);if(t.major<=2&&0===t.minor){const t=await chrome.storage.sync.get(["autoClickContinueWatching","autoClickNextEpisode","skipIntroAndRecap"]),i={autoClickContinueWatching:t.autoClickContinueWatching,autoClickNextEpisode:t.autoClickNextEpisode,skipIntro:t.skipIntroAndRecap,skipRecap:t.skipIntroAndRecap};await chrome.storage.sync.clear(),await chrome.storage.sync.set(i)}}})})();